import{S as o,o as K,q as j,v as w,w as z,x as y,U as l,y as m,g as b,z as L,A as G,B as H,C as V,D as Z,E as $,b as q,F as J,G as Q,L as W,H as X,R as k,I as C,P as p,f as F,J as ee,K as re,M as te,N as ae,O as ie,Q as ne,T as fe,V as se,W as ue}from"./utils.BM_9wC3W.js";import{d as ve}from"./disclose-version.Cr6NpmaU.js";function S(t,s=null,_){if(typeof t!="object"||t===null||o in t)return t;const P=H(t);if(P!==K&&P!==j)return t;var i=new Map,v=V(t),E=w(0);v&&i.set("length",w(t.length));var I;return new Proxy(t,{defineProperty(f,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&z();var a=i.get(e);return a===void 0?(a=w(r.value),i.set(e,a)):y(a,S(r.value,I)),!0},deleteProperty(f,e){var r=i.get(e);if(r===void 0)e in f&&i.set(e,w(l));else{if(v&&typeof e=="string"){var a=i.get("length"),n=Number(e);Number.isInteger(n)&&n<a.v&&y(a,n)}y(r,l),M(E)}return!0},get(f,e,r){var c;if(e===o)return t;var a=i.get(e),n=e in f;if(a===void 0&&(!n||(c=m(f,e))!=null&&c.writable)&&(a=w(S(n?f[e]:l,I)),i.set(e,a)),a!==void 0){var u=b(a);return u===l?void 0:u}return Reflect.get(f,e,r)},getOwnPropertyDescriptor(f,e){var r=Reflect.getOwnPropertyDescriptor(f,e);if(r&&"value"in r){var a=i.get(e);a&&(r.value=b(a))}else if(r===void 0){var n=i.get(e),u=n==null?void 0:n.v;if(n!==void 0&&u!==l)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return r},has(f,e){var u;if(e===o)return!0;var r=i.get(e),a=r!==void 0&&r.v!==l||Reflect.has(f,e);if(r!==void 0||L!==null&&(!a||(u=m(f,e))!=null&&u.writable)){r===void 0&&(r=w(a?S(f[e],I):l),i.set(e,r));var n=b(r);if(n===l)return!1}return a},set(f,e,r,a){var D;var n=i.get(e),u=e in f;if(v&&e==="length")for(var c=r;c<n.v;c+=1){var g=i.get(c+"");g!==void 0?y(g,l):c in f&&(g=w(l),i.set(c+"",g))}n===void 0?(!u||(D=m(f,e))!=null&&D.writable)&&(n=w(void 0),y(n,S(r,I)),i.set(e,n)):(u=n.v!==l,y(n,S(r,I)));var h=Reflect.getOwnPropertyDescriptor(f,e);if(h!=null&&h.set&&h.set.call(a,r),!u){if(v&&typeof e=="string"){var A=i.get("length"),R=Number(e);Number.isInteger(R)&&R>=A.v&&y(A,R+1)}M(E)}return!0},ownKeys(f){b(E);var e=Reflect.ownKeys(f).filter(n=>{var u=i.get(n);return u===void 0||u.v!==l});for(var[r,a]of i)a.v!==l&&!(r in f)&&e.push(r);return e},setPrototypeOf(){G()}})}function M(t,s=1){y(t,t.v+s)}function U(t,s){return t===s||(t==null?void 0:t[o])===s}function _e(t={},s,_,P){return Z(()=>{var i,v;return $(()=>{i=v,v=[],q(()=>{t!==_(...v)&&(s(t,...v),i&&U(_(...i),t)&&s(null,...i))})}),()=>{J(()=>{v&&U(_(...v),t)&&s(null,...v)})}}),t}function Y(t){for(var s=L,_=L;s!==null&&!(s.f&(X|k));)s=s.parent;try{return C(s),t()}finally{C(_)}}function ce(t,s,_,P){var B;var i=(_&ne)!==0,v=(_&p)!==0,E=(_&fe)!==0,I=(_&se)!==0,f=!1,e;E?[e,f]=ve(()=>t[s]):e=t[s];var r=(B=m(t,s))==null?void 0:B.set,a=P,n=!0,u=!1,c=()=>(u=!0,n&&(n=!1,I?a=q(P):a=P),a);e===void 0&&P!==void 0&&(r&&v&&Q(),e=c(),r&&r(e));var g;if(v)g=()=>{var d=t[s];return d===void 0?c():(n=!0,u=!1,d)};else{var h=Y(()=>(i?F:ee)(()=>t[s]));h.f|=W,g=()=>{var d=b(h);return d!==void 0&&(a=void 0),d===void 0?a:d}}if(!(_&re))return g;if(r){var A=t.$$legacy;return function(d,O){return arguments.length>0?((!v||!O||A||f)&&r(O?g():d),d):g()}}var R=!1,D=!1,x=ue(e),N=Y(()=>F(()=>{var d=g(),O=b(x),T=te;return R||d===void 0&&T.f&ae?(R=!1,D=!0,O):(D=!1,x.v=d)}));return i||(N.equals=ie),function(d,O){if(arguments.length>0){const T=O?b(N):v&&E?S(d):d;return N.equals(T)||(R=!0,y(x,T),u&&a!==void 0&&(a=T),q(()=>b(N))),d}return b(N)}}export{S as a,_e as b,ce as p};
